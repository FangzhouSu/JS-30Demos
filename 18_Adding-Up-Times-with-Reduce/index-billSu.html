<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Adding Up Times with Reduce | by billSu</title>
  <link rel="shortcut icon" href="../favicon.ico">
</head>

<style>
    .billSu-header {
    /* æ”¹äº†ä¸€ä¸‹å¤´éƒ¨çš„æ ·å¼ ä¿è¯å®ƒä¸€ç›´è´´åœ¨æœ€ä¸Šé¢ */
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        background-color: rgb(21, 21, 21);
        text-align: center;
        padding: 10px;
        color: #dde666;
        font-size: 20px;
        /* font-weight: bold; */
        z-index: 999;
    }
    .billSu-header span{
        margin: 0 5px;
    }
    .billSu-header a{
        text-decoration: none;
        color: unset;
    }
    a:hover{
        background-color:rgb(116, 116, 116);
    }

    .top{
        margin-top: 5rem;
    }
</style>

<div class="billSu-header">
    <span><a href="https://github.com/wesbos/JavaScript30" target="_blank">JavaScript30 çµæ„Ÿæ¥æº</a></span>
    <span>|</span>
    <span><a href="https://github.com/FangzhouSu/JS-30Demos" target="_blank">æœ¬é¡¹ç›®ä»“åº“-billSU</a></span>
    <span>|</span>
    <span><a href="https://blog.csdn.net/qq_45704942?spm=1010.2135.3001.5421&type=blog" target="_blank">äº†è§£æˆ‘</a></span>
</div>

<body>
    <p class="top">æ€»æ’­æ”¾æ—¶é—´ğŸ§ä¸ºï¼š<span id="totaltime"></span></p>
    <ul class="videos">
        <li data-time="5:43">
            Video 1
        </li>
        <li data-time="2:33">
            Video 2
        </li>
        <li data-time="3:45">
            Video 3
        </li>
        <li data-time="0:47">
            Video 4
        </li>
        <li data-time="5:21">
            Video 5
        </li>
        <li data-time="6:56">
            Video 6
        </li>
        <li data-time="3:46">
        Video 7
        </li>
        <li data-time="5:25">
        Video 8
        </li>
        <li data-time="3:14">
        Video 9
        </li>
        <li data-time="3:31">
        Video 10
        </li>
        <li data-time="5:59">
        Video 11
        </li>
        <li data-time="3:07">
        Video 12
        </li>
        <li data-time="11:29">
        Video 13
        </li>
        <li data-time="8:57">
        Video 14
        </li>
        <li data-time="5:49">
        Video 15
        </li>
        <li data-time="5:52">
        Video 16
        </li>
        <li data-time="5:50">
        Video 17
        </li>
        <li data-time="9:13">
        Video 18
        </li>
        <li data-time="11:51">
        Video 19
        </li>
        <li data-time="7:58">
        Video 20
        </li>
        <li data-time="4:40">
        Video 21
        </li>
        <li data-time="4:45">
        Video 22
        </li>
        <li data-time="6:46">
        Video 23
        </li>
        <li data-time="7:24">
        Video 24
        </li>
        <li data-time="7:12">
        Video 25
        </li>
        <li data-time="5:23">
        Video 26
        </li>
        <li data-time="3:34">
        Video 27
        </li>
        <li data-time="8:22">
        Video 28
        </li>
        <li data-time="5:17">
        Video 29
        </li>
        <li data-time="3:10">
        Video 30
        </li>
        <li data-time="4:43">
        Video 31
        </li>
        <li data-time="19:43">
        Video 32
        </li>
        <li data-time="0:47">
        Video 33
        </li>
        <li data-time="0:47">
        Video 34
        </li>
        <li data-time="3:14">
        Video 35
        </li>
        <li data-time="3:59">
        Video 36
        </li>
        <li data-time="2:43">
        Video 37
        </li>
        <li data-time="4:17">
        Video 38
        </li>
        <li data-time="6:56">
        Video 39
        </li>
        <li data-time="3:05">
        Video 40
        </li>
        <li data-time="2:06">
        Video 41
        </li>
        <li data-time="1:59">
        Video 42
        </li>
        <li data-time="1:49">
        Video 43
        </li>
        <li data-time="3:36">
        Video 44
        </li>
        <li data-time="7:10">
        Video 45
        </li>
        <li data-time="3:44">
        Video 46
        </li>
        <li data-time="3:44">
        Video 47
        </li>
        <li data-time="4:36">
        Video 48
        </li>
        <li data-time="3:16">
        Video 49
        </li>
        <li data-time="1:10">
        Video 50
        </li>
        <li data-time="6:10">
        Video 51
        </li>
        <li data-time="2:14">
        Video 52
        </li>
        <li data-time="3:44">
        Video 53
        </li>
        <li data-time="5:05">
        Video 54
        </li>
        <li data-time="6:03">
        Video 55
        </li>
        <li data-time="12:39">
        Video 56
        </li>
        <li data-time="1:56">
        Video 57
        </li>
        <li data-time="4:04">
        Video 58
        </li>
    </ul>
    <script>
        // è¿˜å¯ä»¥ç”¨[...document.querySelectorAll('[data-time]')]æ¥å°†å–å›çš„èŠ‚ç‚¹ï¼ˆç±»æ•°ç»„ï¼‰è½¬æ¢ä¸ºæ•°ç»„
        const timeNodes = Array.from(document.querySelectorAll('[data-time]'));
        // è·å¾—æ€»ç§’æ•°çš„ä¸€ä¸ªä¸€è¿ä¸²çš„æ“ä½œ~ï¼
        const seconds = timeNodes   
            // ç¬¬ä¸€ä¸ªmapå‡½æ•°ï¼Œè®©secondsæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å˜ä¸ºdata-timeä¸­çš„å€¼
            // ä¹‹å‰æˆ‘ä»¬åˆšå­¦è¿‡ï¼Œ.mapæ–¹æ³•æ˜¯â€œå¤åˆ¶â€ï¼Œè€Œä¸æ˜¯å¼•ç”¨ï¼Œæ‰€ä»¥timeNodesä¸ä¼šå˜å“¦~
            .map(node => node.dataset.time)
            // ç”¨è§£æ„èµ‹å€¼çš„æ–¹æ³•å–å‡ºdata-timeä¸­åˆ†åˆ«ä½äº:ä¸¤è¾¹çš„æ•° æ¯”å¦‚ 6:56ï¼Œä¹‹åè¿”å›æ€»ç§’æ•°
            .map(timeCode => {
                const [mins, secs] = timeCode.split(':').map(x => parseFloat(x));
                return (mins * 60) + secs;
            })
            // ä½¿ç”¨reduceæ–¹æ³•æ¥å½’å¹¶æ±‚å’Œï¼
            .reduce((total, seconds) => total + seconds);
            // å°†ä¸Šé¢è·å¾—çš„æ€»ç§’æ•°æ¢æˆå¯¹åº”çš„å°æ—¶æ•°&åˆ†é’Ÿæ•°&ç§’æ•°
            let hours = Math.floor(seconds / 3600);
            let mins = Math.floor((seconds - hours*3600) / 60);
            let secondsLeft = seconds - hours*3600 - mins*60;
            // åœ¨é¡µé¢ä¸­å±•ç¤ºå‡ºæ¥è¿™ä¸ªæ€»æ—¶é•¿ï¼ŒOVER~
            document.querySelector('#totaltime').innerHTML = `${hours}:${mins}:${secondsLeft}`;
    </script>
</body>
</html>
