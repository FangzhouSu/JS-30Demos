<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript12/30 - Key Detection | by billSu</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
  <link rel="shortcut icon" href="../favicon.ico">
</head>

<body>
    <style>
        .billSu-header {
          /* æ”¹äº†ä¸€ä¸‹å¤´éƒ¨çš„æ ·å¼ ä¿è¯å®ƒä¸€ç›´è´´åœ¨æœ€ä¸Šé¢ */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgb(21, 21, 21);
            text-align: center;
            padding: 10px;
            color: #dde666;
            font-size: 20px;
            font-weight: 100;
            z-index: 999;
        }
        .billSu-header span{
            margin: 0 5px;
        }
        .billSu-header a{
            text-decoration: none;
            color: unset;
        }
        a:hover{
            background-color:rgb(116, 116, 116);
        }
    </style>
    <div class="billSu-header">
        <span><a href="https://github.com/wesbos/JavaScript30" target="_blank">JavaScript30 çµæ„Ÿæ¥æº</a></span>
        <span>|</span>
        <span><a href="https://github.com/FangzhouSu/JS-30Demos" target="_blank">æœ¬é¡¹ç›®ä»“åº“-billSU</a></span>
        <span>|</span>
        <span><a href="https://blog.csdn.net/qq_45704942?spm=1010.2135.3001.5421&type=blog" target="_blank">äº†è§£æˆ‘</a></span>
    </div>

    <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>

    <h1 style="margin-top: 60px;">è¾“å…¥ç§˜ç±â€œbillsuâ€<br>è®©æˆ‘ä»¬çœ‹çœ‹æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆ</h1>
    <img src="è®©æˆ‘ä»¬çœ‹çœ‹æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆ.jpg" alt="ç©å„¿ä¸ªæ¢—~" width="30%">
    <h2>å·²è¾“å…¥çš„å¯†ç ï¼š<span class="inputCode"></span></h2>
    <h6>å¾ˆå°´å°¬çš„æ˜¯ï¼Œæœ¬ä¾‹ä¸­ä½¿ç”¨çš„APIæ˜¯åœ¨ä¸€ä¸ªä½¿ç”¨HTTPåè®®çš„ç½‘ç«™ä¸Šï¼Œè€Œæˆ‘ä»¬çš„ç½‘é¡µéƒ¨ç½²åœ¨Github Pageä¸Šï¼Œæ˜¯ä½¿ç”¨çš„HTTPSåè®®ğŸ˜‚ğŸ˜¢ğŸ˜¢æ‰€ä»¥ç”¨ä¸äº†è¿™ä¸ªAPIï¼ˆthe content must be served over HTTPS.ï¼‰ï¼æƒ³å°è¯•æ•ˆæœçš„è¦ä¸‹è½½åˆ°æœ¬åœ°~</h6>

    <script>
        const pressed = [];// pressedæ•°ç»„ä¿å­˜è¾“å…¥
        const secretCode = 'billsu';// è®¾å®šçš„â€œç§˜ç±â€
        // ç›‘å¬é”®ç›˜çš„æ¾å¼€ keyup 
        window.addEventListener('keyup', (e) => {
            // è·å¾—çš„å€¼pushè¿›æ•°ç»„ä¸­
            pressed.push(e.key);
            //spliceæ–¹æ³•ä¼šåˆ å»åŸæ•°ç»„ä»ä¸‹æ ‡0å¼€å§‹ å…±pressed.length - secretCode.lengthä¸ªå…ƒç´  å¹¶è¿”å›è¿™éƒ¨åˆ†çš„å†…å®¹ 
            // è¿™é‡Œç”¨spliceæ˜¯ä¸ºäº†åšåˆ é™¤æ“ä½œï¼ˆä¸ªæ•°ä¸ºè´Ÿæ•°åˆ™ä¸ä¼šåˆ å»å…ƒç´ ï¼‰
            // è¿™æ ·å°±å¯ä»¥åœ¨è¾“å…¥äº†è¶…è¿‡secretCode.lengthä¸ªå­—ç¬¦æ—¶ ä¸æ–­åœ°åˆ å»å‰é¢çš„å­—ç¬¦æ¥ä¿è¯å¯ä»¥é‡å¤è¾“å…¥å­—ç¬¦ï¼
            pressed.splice(0, pressed.length - secretCode.length);
            if(pressed.join('').includes(secretCode)){
                cornify_add();// è°ƒç”¨æ¥è‡ªhttp://www.cornify.com/js/cornify.jsçš„API åœ¨ç”»é¢ä¸­è¾“å…¥å†…å®¹
            }
            console.log(pressed);// æ‰“å°æ•°ç»„ç›®å‰çš„å†…å®¹
            // å°†æ•°ç»„è½¬æ¢ä¸º-è¿æ¥çš„å­—ç¬¦ä¸²å¹¶åœ¨é¡µé¢ä¸­å‘ˆç°å‡ºæ¥
            document.querySelector('.inputCode').innerHTML = pressed.join('-');
        })

    </script>
</body>
</html>
